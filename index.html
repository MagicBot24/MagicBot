<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Magic Robot - ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    darkMode: 'class',
  };
</script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center p-6">

<h1 class="text-3xl font-bold text-cyan-400 mb-6">Magic Robot</h1>

<div class="w-full max-w-2xl bg-gray-800 rounded-xl shadow-lg p-6 flex flex-col space-y-4">
  <div id="chat" class="h-96 overflow-y-auto space-y-3 bg-gray-700 p-4 rounded-lg border border-gray-600"></div>
  <div class="flex gap-2">
    <input id="input" type="text" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." class="flex-grow bg-gray-900 border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500 text-white" />
    <button id="sendBtn" class="bg-cyan-600 text-white px-6 py-2 rounded-lg hover:bg-cyan-700 transition">Send</button>
  </div>
</div>

<script>
const API_KEY = "AIzaSyCb2Q72UY_t3HB9eOuWo0L5jo5K-LmKCJc";  // ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ API KEY ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá ‡¶§‡ßã?
const CSE_ID = "b7013f3574abc40c3";  // ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Custom Search Engine ID ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá ‡¶§‡ßã?

const chat = document.getElementById('chat');
const input = document.getElementById('input');
const sendBtn = document.getElementById('sendBtn');

function renderMessage(sender, text) {
  const div = document.createElement('div');
  div.classList.add('max-w-[80%]', 'px-4', 'py-2', 'rounded-lg', 'text-sm', 'whitespace-pre-wrap', 'break-words');
  if(sender === 'user'){
    div.classList.add('bg-cyan-600', 'text-white', 'ml-auto');
    div.textContent = `üßë: ${text}`;
  } else {
    div.classList.add('bg-gray-600', 'text-white', 'mr-auto');
    div.textContent = `ü§ñ: ${text}`;
  }
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function ownBrainResponse(text) {
  const lower = text.toLowerCase().trim();
  const greetings = ["hi", "hello", "‡¶π‡¶æ‡¶á", "‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã", "hola", "hey", "‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞", "‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ"];
  if (greetings.includes(lower)) {
    return "‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßã? ‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Magic Robot ‚Äî ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§! ü§ñ";
  }
  if (lower.includes("‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶™‡¶æ‡¶∞‡ßã") || lower.includes("what can you do")) {
    return "‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Magic Robot! ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶®‡ßá ‡¶¶‡¶ø‡¶¨‡ßã‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶ö‡¶æ‡¶ì, ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶ï‡ßã‡¶° ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü‡¶ì ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø! ü§ñ‚ú®";
  }
  if (lower.includes("‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ") || lower.includes("what is your name")) {
    return "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ Magic Robot ‚Äî ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Magic‡•§ üòâ";
  }
  if (lower.includes("‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡ßá") || lower.includes("who are you")) {
    return "‡¶Ü‡¶Æ‡¶ø Magic Robot, ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ‡•§";
  }
  if (lower.includes("‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï ‡¶ï‡ßá") || lower.includes("who is your owner")) {
    return "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï Rashed Khan‡•§";
  }
  if (lower.includes("‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßã") || lower.includes("how are you")) {
    return "‡¶Ü‡¶Æ‡¶ø ‡¶≠‡¶æ‡¶≤‡ßã ‡¶Ü‡¶õ‡¶ø! ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßã?";
  }
  if (lower.includes("‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶") || lower.includes("thanks")) {
    return "‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá‡¶ì ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! üòä";
  }
  if (lower.includes("‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßã") || lower.includes("‡¶ï‡ßã‡¶° ‡¶¶‡¶æ‡¶ì") || lower.includes("template create") || lower.includes("give me code")) {
    return generateBasicTemplate();
  }
  return null;
}

function generateBasicTemplate() {
  return `‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶π‡¶ú ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ:

<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Download Site</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 p-6">
  <header class="max-w-4xl mx-auto flex justify-between items-center py-4">
    <h1 class="text-3xl font-bold text-blue-600">Download Hub</h1>
  </header>
  <main class="max-w-4xl mx-auto mt-8">
    <section class="bg-white rounded-lg shadow p-6">
      <h2 class="text-2xl font-semibold mb-4">Available Downloads</h2>
      <ul>
        <li class="mb-3">
          <a href="#" class="text-blue-600 hover:underline">Awesome Software v1.0</a>
          <p class="text-sm text-gray-600">Size: 20MB | Updated: 2025-08-16</p>
        </li>
        <li class="mb-3">
          <a href="#" class="text-blue-600 hover:underline">Cool Game v2.3</a>
          <p class="text-sm text-gray-600">Size: 150MB | Updated: 2025-07-20</p>
        </li>
      </ul>
    </section>
  </main>
</body>
</html>`;
}

async function fetchFromGoogle(query){
  const url = `https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CSE_ID}&q=${encodeURIComponent(query)}`;
  try{
    const res = await fetch(url);
    const data = await res.json();
    if(data.items && data.items.length > 0){
      let answer = "‡¶Ü‡¶Æ‡¶ø ‡¶ó‡ßÅ‡¶ó‡¶≤‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø:\n\n";
      data.items.slice(0, 3).forEach((item, i) => {
        answer += `${i+1}. ${item.title}\n`;
        let snippet = item.snippet.replace(/<\/?[^>]+(>|$)/g, "");
        if(snippet.length > 200) snippet = snippet.substring(0, 200) + "...";
        answer += `    ${snippet}\n`;
        answer += `    ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï: ${item.link}\n\n`;
      });
      return answer.trim();
    } else {
      return "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶ó‡ßÅ‡¶ó‡¶≤‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ ‡¶®‡¶æ‡•§";
    }
  }catch(e){
    return "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
  }
}

async function processInput(text){
  if(!text.trim()) return;
  renderMessage('user', text);
  input.value = "";

  let reply = ownBrainResponse(text);
  if(reply){
    renderMessage('bot', reply);
    return;
  }

  renderMessage('bot', "‡¶Ü‡¶Æ‡¶ø ‡¶ó‡ßÅ‡¶ó‡¶≤‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶õ‡¶ø... ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶∏‡¶Æ‡ßü ‡¶¶‡¶æ‡¶ì‡•§");
  const googleReply = await fetchFromGoogle(text);
  renderMessage('bot', googleReply);
}

sendBtn.addEventListener('click', () => {
  processInput(input.value);
});

input.addEventListener('keypress', e => {
  if(e.key === 'Enter'){
    e.preventDefault();
    processInput(input.value);
  }
});
</script>

</body>
</html>
